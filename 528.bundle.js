"use strict";(self.webpackChunkanchor_ecommerce_frontend=self.webpackChunkanchor_ecommerce_frontend||[]).push([[528],{8528:(n,e,t)=>{t.r(e),t.d(e,{default:()=>C});var r=t(6540),a=t(8087),o=t(5072),A=t.n(o),i=t(7825),s=t.n(i),d=t(7659),l=t.n(d),c=t(5056),m=t.n(c),u=t(540),E=t.n(u),g=t(1113),b=t.n(g),p=t(9738),B={};B.styleTagTransform=b(),B.setAttributes=m(),B.insert=l().bind(null,"head"),B.domAPI=s(),B.insertStyleElement=E(),A()(p.A,B),p.A&&p.A.locals&&p.A.locals;const C=()=>{const[n,e]=(0,r.useState)([]),[t,o]=(0,r.useState)(!0),[A,i]=(0,r.useState)(!1),[s,d]=(0,r.useState)(null),[l,c]=(0,r.useState)(1),[m,u]=(0,r.useState)(1),E=async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{o(!0),d(null);const t=await a.A.get("/api/orders",{params:{page:n,limit:10},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});e(t.data.orders),c(t.data.currentPage),u(t.data.totalPages)}catch(n){var t;d((null===(t=n.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Failed to fetch orders. Please try again.")}finally{o(!1)}},g=async(n,e)=>{try{i(!0),await a.A.patch("/api/orders/".concat(n),{status:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),alert("Order status updated successfully!"),E(l)}catch(n){var t;alert((null===(t=n.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Failed to update order status."),console.error("Update order status error:",n)}finally{i(!1)}};(0,r.useEffect)((()=>{E()}),[]);const b=n=>{n>0&&n<=m&&E(n)};return t?r.createElement("p",null,"Loading..."):s?r.createElement("p",{className:"error"},s):r.createElement("div",{className:"admin-order-tracking"},r.createElement("h2",null,"Order Tracking"),0===n.length?r.createElement("p",null,"No orders available."):r.createElement("div",null,n.map((n=>r.createElement("div",{key:n._id,className:"order-card"},r.createElement("h4",null,"Order ID: ",n._id),r.createElement("p",null,"Status: ",r.createElement("strong",null,n.status)),r.createElement("p",null,"Total: $",n.total.toFixed(2)),r.createElement("p",null,"Date: ",new Date(n.date).toLocaleString()),r.createElement("h5",null,"Items:"),r.createElement("ul",null,n.items.map((n=>r.createElement("li",{key:n._id},n.name," - $",n.price.toFixed(2)," x ",n.quantity)))),r.createElement("div",{className:"status-buttons"},"New"===n.status&&r.createElement("button",{onClick:()=>g(n._id,"Shipped"),disabled:A},"Mark as Shipped"),"Shipped"===n.status&&r.createElement("button",{onClick:()=>g(n._id,"Delivered"),disabled:A},"Mark as Delivered"))))),r.createElement("div",{className:"pagination"},r.createElement("button",{disabled:1===l,onClick:()=>b(l-1)},"Previous"),r.createElement("span",null,"Page ",l," of ",m),r.createElement("button",{disabled:l===m,onClick:()=>b(l+1)},"Next"))))}},8087:(n,e,t)=>{t.d(e,{A:()=>a});const r=t(1083).A.create({baseURL:"https://warm-basin-72103-f1286c0ab2ad.herokuapp.com/",timeout:1e4});r.defaults.headers.common["Content-Type"]="application/json",r.interceptors.request.use((n=>{const e=localStorage.getItem("token");return e&&(n.headers.Authorization="Bearer ".concat(e)),n}),(n=>Promise.reject(n))),r.interceptors.response.use((n=>n),(n=>(console.error("API Error:",n),Promise.reject(n))));const a=r},9738:(n,e,t)=>{t.d(e,{A:()=>i});var r=t(1354),a=t.n(r),o=t(6314),A=t.n(o)()(a());A.push([n.id,".admin-order-tracking {\n  padding: 2rem;\n  background: #f9f9f9;\n  min-height: 100vh;\n}\n\nh2 {\n  font-size: 2rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #333;\n}\n\n.order-card {\n  padding: 1rem;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  margin-bottom: 1.5rem;\n}\n\n.order-card h4 {\n  font-size: 1.2rem;\n  color: #007bff;\n  margin-bottom: 0.5rem;\n}\n\n.order-card p {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 0.5rem;\n}\n\n.order-card ul {\n  padding-left: 1.5rem;\n  color: #333;\n}\n\n.order-card ul li {\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1.5rem;\n  gap: 1rem;\n}\n\n.pagination button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.pagination button:disabled {\n  background: #ccc;\n  cursor: not-allowed;\n}\n\n.pagination button:hover:not(:disabled) {\n  background: #0056b3;\n}\n\n.error {\n  color: red;\n  text-align: center;\n}\n\n.status-buttons {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.status-buttons button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.status-buttons button:hover {\n  background: #0056b3;\n}\n","",{version:3,sources:["webpack://./src/styles/AdminOrderTracking.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,kBAAkB;EAClB,wCAAwC;EACxC,qBAAqB;AACvB;;AAEA;EACE,iBAAiB;EACjB,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;EAClB,SAAS;AACX;;AAEA;EACE,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gCAAgC;AAClC;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gCAAgC;AAClC;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:[".admin-order-tracking {\n  padding: 2rem;\n  background: #f9f9f9;\n  min-height: 100vh;\n}\n\nh2 {\n  font-size: 2rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #333;\n}\n\n.order-card {\n  padding: 1rem;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  margin-bottom: 1.5rem;\n}\n\n.order-card h4 {\n  font-size: 1.2rem;\n  color: #007bff;\n  margin-bottom: 0.5rem;\n}\n\n.order-card p {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 0.5rem;\n}\n\n.order-card ul {\n  padding-left: 1.5rem;\n  color: #333;\n}\n\n.order-card ul li {\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1.5rem;\n  gap: 1rem;\n}\n\n.pagination button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.pagination button:disabled {\n  background: #ccc;\n  cursor: not-allowed;\n}\n\n.pagination button:hover:not(:disabled) {\n  background: #0056b3;\n}\n\n.error {\n  color: red;\n  text-align: center;\n}\n\n.status-buttons {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.status-buttons button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.status-buttons button:hover {\n  background: #0056b3;\n}\n"],sourceRoot:""}]);const i=A}}]);
//# sourceMappingURL=528.bundle.js.map