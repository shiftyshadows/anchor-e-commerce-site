{"version":3,"file":"528.bundle.js","mappings":"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","sources":["webpack://anchor-ecommerce-frontend/./src/styles/AdminOrderTracking.css?9ab1","webpack://anchor-ecommerce-frontend/./src/components/AdminOrderTracking.jsx","webpack://anchor-ecommerce-frontend/./src/utils/api.js","webpack://anchor-ecommerce-frontend/./src/styles/AdminOrderTracking.css"],"sourcesContent":["\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./AdminOrderTracking.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./AdminOrderTracking.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useState, useEffect } from \"react\";\nimport API from \"../utils/api\"; // Axios instance for API calls\nimport \"../styles/AdminOrderTracking.css\";\n\nconst AdminOrderTracking = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  // Fetch orders from the server\n  const fetchOrders = async (page = 1) => {\n    try {\n      setLoading(true);\n      setError(null); // Clear previous errors\n      const response = await API.get(\"/api/orders\", {\n        params: { page, limit: 10 }, // Pagination parameters\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`, // Admin token\n        },\n      });\n\n      setOrders(response.data.orders); // Update orders state\n      setCurrentPage(response.data.currentPage);\n      setTotalPages(response.data.totalPages);\n    } catch (err) {\n      setError(err.response?.data?.message || \"Failed to fetch orders. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle status update\n  const updateOrderStatus = async (orderId, newStatus) => {\n    try {\n      setUpdating(true);\n      await API.patch(`/api/orders/${orderId}`, { status: newStatus }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`, // Admin token\n        },\n      });\n\n      alert(\"Order status updated successfully!\");\n\n      // Refresh the order list after the update\n      fetchOrders(currentPage);\n    } catch (err) {\n      alert(err.response?.data?.message || \"Failed to update order status.\");\n      console.error(\"Update order status error:\", err);\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  // Fetch orders on component mount\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  // Handle pagination\n  const handlePageChange = (newPage) => {\n    if (newPage > 0 && newPage <= totalPages) {\n      fetchOrders(newPage);\n    }\n  };\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p className=\"error\">{error}</p>;\n\n  return (\n    <div className=\"admin-order-tracking\">\n      <h2>Order Tracking</h2>\n      {orders.length === 0 ? (\n        <p>No orders available.</p>\n      ) : (\n        <div>\n          {orders.map((order) => (\n            <div key={order._id} className=\"order-card\">\n              <h4>Order ID: {order._id}</h4>\n              <p>Status: <strong>{order.status}</strong></p>\n              <p>Total: ${order.total.toFixed(2)}</p>\n              <p>Date: {new Date(order.date).toLocaleString()}</p>\n              <h5>Items:</h5>\n              <ul>\n                {order.items.map((item) => (\n                  <li key={item._id}>\n                    {item.name} - ${item.price.toFixed(2)} x {item.quantity}\n                  </li>\n                ))}\n              </ul>\n\n              {/* Update Status Buttons */}\n              <div className=\"status-buttons\">\n                {order.status === \"New\" && (\n                  <button\n                    onClick={() => updateOrderStatus(order._id, \"Shipped\")}\n                    disabled={updating} // Disable while updating\n                  >\n                    Mark as Shipped\n                  </button>\n                )}\n                {order.status === \"Shipped\" && (\n                  <button\n                    onClick={() => updateOrderStatus(order._id, \"Delivered\")}\n                    disabled={updating} // Disable while updating\n                  >\n                    Mark as Delivered\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n\n          {/* Pagination Controls */}\n          <div className=\"pagination\">\n            <button\n              disabled={currentPage === 1}\n              onClick={() => handlePageChange(currentPage - 1)}\n            >\n              Previous\n            </button>\n            <span>\n              Page {currentPage} of {totalPages}\n            </span>\n            <button\n              disabled={currentPage === totalPages}\n              onClick={() => handlePageChange(currentPage + 1)}\n            >\n              Next\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminOrderTracking;\n","import axios from \"axios\";\n\n// Create an Axios instance\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL, // Default base URL\n  timeout: 10000, // Optional: Set a timeout for requests (in milliseconds)\n});\n\n// Optional: Add default headers\nAPI.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n\n// Optional: Add interceptors (for logging, token handling, etc.)\nAPI.interceptors.request.use(\n  (config) => {\n    // Example: Add a token to headers if it exists\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    // Handle request error\n    return Promise.reject(error);\n  }\n);\n\nAPI.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Handle response error\n    console.error(\"API Error:\", error);\n    return Promise.reject(error);\n  }\n);\n\nexport default API;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.admin-order-tracking {\n  padding: 2rem;\n  background: #f9f9f9;\n  min-height: 100vh;\n}\n\nh2 {\n  font-size: 2rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #333;\n}\n\n.order-card {\n  padding: 1rem;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  margin-bottom: 1.5rem;\n}\n\n.order-card h4 {\n  font-size: 1.2rem;\n  color: #007bff;\n  margin-bottom: 0.5rem;\n}\n\n.order-card p {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 0.5rem;\n}\n\n.order-card ul {\n  padding-left: 1.5rem;\n  color: #333;\n}\n\n.order-card ul li {\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1.5rem;\n  gap: 1rem;\n}\n\n.pagination button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.pagination button:disabled {\n  background: #ccc;\n  cursor: not-allowed;\n}\n\n.pagination button:hover:not(:disabled) {\n  background: #0056b3;\n}\n\n.error {\n  color: red;\n  text-align: center;\n}\n\n.status-buttons {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.status-buttons button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.status-buttons button:hover {\n  background: #0056b3;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles/AdminOrderTracking.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,kBAAkB;EAClB,wCAAwC;EACxC,qBAAqB;AACvB;;AAEA;EACE,iBAAiB;EACjB,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;EAClB,SAAS;AACX;;AAEA;EACE,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gCAAgC;AAClC;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gCAAgC;AAClC;;AAEA;EACE,mBAAmB;AACrB\",\"sourcesContent\":[\".admin-order-tracking {\\n  padding: 2rem;\\n  background: #f9f9f9;\\n  min-height: 100vh;\\n}\\n\\nh2 {\\n  font-size: 2rem;\\n  margin-bottom: 1.5rem;\\n  text-align: center;\\n  color: #333;\\n}\\n\\n.order-card {\\n  padding: 1rem;\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  margin-bottom: 1.5rem;\\n}\\n\\n.order-card h4 {\\n  font-size: 1.2rem;\\n  color: #007bff;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.order-card p {\\n  font-size: 1rem;\\n  color: #555;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.order-card ul {\\n  padding-left: 1.5rem;\\n  color: #333;\\n}\\n\\n.order-card ul li {\\n  font-size: 1rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.pagination {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 1.5rem;\\n  gap: 1rem;\\n}\\n\\n.pagination button {\\n  padding: 0.5rem 1rem;\\n  font-size: 1rem;\\n  color: white;\\n  background: #007bff;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background 0.3s ease;\\n}\\n\\n.pagination button:disabled {\\n  background: #ccc;\\n  cursor: not-allowed;\\n}\\n\\n.pagination button:hover:not(:disabled) {\\n  background: #0056b3;\\n}\\n\\n.error {\\n  color: red;\\n  text-align: center;\\n}\\n\\n.status-buttons {\\n  display: flex;\\n  gap: 0.5rem;\\n  margin-top: 1rem;\\n}\\n\\n.status-buttons button {\\n  padding: 0.5rem 1rem;\\n  font-size: 1rem;\\n  color: white;\\n  background: #007bff;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background 0.3s ease;\\n}\\n\\n.status-buttons button:hover {\\n  background: #0056b3;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","AdminOrderTracking","orders","setOrders","useState","loading","setLoading","updating","setUpdating","error","setError","currentPage","setCurrentPage","totalPages","setTotalPages","fetchOrders","async","page","arguments","length","undefined","response","API","get","params","limit","headers","Authorization","concat","localStorage","getItem","data","err","_err$response","message","updateOrderStatus","orderId","newStatus","patch","status","alert","_err$response2","console","useEffect","handlePageChange","newPage","React","className","map","order","key","_id","total","toFixed","Date","date","toLocaleString","items","item","name","price","quantity","onClick","disabled","axios","create","baseURL","process","timeout","defaults","common","interceptors","request","use","config","token","Promise","reject","___CSS_LOADER_EXPORT___","push","module","id"],"sourceRoot":""}