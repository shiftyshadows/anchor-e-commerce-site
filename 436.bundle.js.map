{"version":3,"file":"436.bundle.js","mappings":"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","sources":["webpack://anchor-ecommerce-frontend/./src/styles/OrderHistory.css?344d","webpack://anchor-ecommerce-frontend/./src/components/OrderHistory.jsx","webpack://anchor-ecommerce-frontend/./src/utils/api.js","webpack://anchor-ecommerce-frontend/./src/styles/OrderHistory.css"],"sourcesContent":["\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./OrderHistory.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./OrderHistory.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from \"react\";\nimport API from \"../utils/api\";\nimport \"../styles/OrderHistory.css\";\n\nconst OrderHistory = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Fetch user-specific orders\n        const response = await API.get(\"/api/orders/user\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`, // Token for user authentication\n          },\n        });\n\n        setOrders(response.data); // Store orders in state\n      } catch (err) {\n        setError(err.response?.data?.message || \"Failed to fetch orders. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrders();\n  }, []);\n\n  const markAsDelivered = async (orderId) => {\n    try {\n      await API.patch(`/api/orders/${orderId}`, { status: \"Delivered\" }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      alert(\"Order marked as Delivered!\");\n      setOrders((prevOrders) =>\n        prevOrders.map((order) =>\n          order._id === orderId ? { ...order, status: \"Delivered\" } : order\n        )\n      );\n    } catch (err) {\n      console.error(\"Failed to update order status:\", err.response?.data || err.message);\n      alert(err.response?.data?.message || \"Failed to mark order as Delivered.\");\n    }\n  };\n\n  if (loading) return <p className=\"loading\">Loading...</p>;\n  if (error) return <p className=\"error\">{error}</p>;\n\n  return (\n    <div className=\"order-history-container\">\n      <h2>Order History</h2>\n      {orders.length === 0 ? (\n        <p>No orders found.</p>\n      ) : (\n        <div className=\"order-list\">\n          {orders.map((order) => (\n            <div key={order._id} className=\"order-item\">\n              <h4>Order ID: {order._id}</h4>\n              <p>Status: <strong>{order.status}</strong></p>\n              <p>Total: ${order.total.toFixed(2)}</p>\n              <p>Date: {new Date(order.date).toLocaleString()}</p>\n              <h5>Items:</h5>\n              <ul>\n                {order.items.map((item) => (\n                  <li key={item._id}>\n                    {item.name} - ${item.price.toFixed(2)} x {item.quantity}\n                  </li>\n                ))}\n              </ul>\n\n              {/* Mark as Delivered Button */}\n              {order.status === \"Shipped\" && (\n                <button\n                  className=\"mark-as-delivered-button\"\n                  onClick={() => markAsDelivered(order._id)}\n                >\n                  Mark as Delivered\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrderHistory;\n","import axios from \"axios\";\n\n// Create an Axios instance\nconst API = axios.create({\n  baseURL: \"shiftyshadows.github.io\", // Default base URL\n  timeout: 10000, // Optional: Set a timeout for requests (in milliseconds)\n});\n\n// Optional: Add default headers\nAPI.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n\n// Optional: Add interceptors (for logging, token handling, etc.)\nAPI.interceptors.request.use(\n  (config) => {\n    // Example: Add a token to headers if it exists\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    // Handle request error\n    return Promise.reject(error);\n  }\n);\n\nAPI.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Handle response error\n    console.error(\"API Error:\", error);\n    return Promise.reject(error);\n  }\n);\n\nexport default API;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.order-history-container {\n  padding: 2rem;\n  background: #f9f9f9;\n  min-height: 100vh;\n}\n\nh2 {\n  font-size: 2rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #333;\n}\n\n.order-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.order-item {\n  padding: 1rem;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.order-item h4 {\n  font-size: 1.2rem;\n  color: #007bff;\n  margin-bottom: 0.5rem;\n}\n\n.order-item p {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 0.5rem;\n}\n\n.order-item ul {\n  padding-left: 1.5rem;\n  color: #333;\n}\n\n.order-item ul li {\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.mark-as-delivered-button {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n  color: white;\n  background: #28a745; /* Green for delivered */\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.mark-as-delivered-button:hover {\n  background: #218838;\n}\n\n.loading {\n  text-align: center;\n  font-size: 1.5rem;\n  color: #007bff;\n}\n\n.error {\n  text-align: center;\n  color: red;\n  font-size: 1.2rem;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles/OrderHistory.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,kBAAkB;EAClB,wCAAwC;AAC1C;;AAEA;EACE,iBAAiB;EACjB,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,mBAAmB,EAAE,wBAAwB;EAC7C,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gCAAgC;AAClC;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,iBAAiB;AACnB\",\"sourcesContent\":[\".order-history-container {\\n  padding: 2rem;\\n  background: #f9f9f9;\\n  min-height: 100vh;\\n}\\n\\nh2 {\\n  font-size: 2rem;\\n  margin-bottom: 1.5rem;\\n  text-align: center;\\n  color: #333;\\n}\\n\\n.order-list {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1.5rem;\\n}\\n\\n.order-item {\\n  padding: 1rem;\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n}\\n\\n.order-item h4 {\\n  font-size: 1.2rem;\\n  color: #007bff;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.order-item p {\\n  font-size: 1rem;\\n  color: #555;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.order-item ul {\\n  padding-left: 1.5rem;\\n  color: #333;\\n}\\n\\n.order-item ul li {\\n  font-size: 1rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.mark-as-delivered-button {\\n  padding: 0.5rem 1rem;\\n  font-size: 1rem;\\n  color: white;\\n  background: #28a745; /* Green for delivered */\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background 0.3s ease;\\n}\\n\\n.mark-as-delivered-button:hover {\\n  background: #218838;\\n}\\n\\n.loading {\\n  text-align: center;\\n  font-size: 1.5rem;\\n  color: #007bff;\\n}\\n\\n.error {\\n  text-align: center;\\n  color: red;\\n  font-size: 1.2rem;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","OrderHistory","orders","setOrders","useState","loading","setLoading","error","setError","useEffect","async","response","API","get","headers","Authorization","concat","localStorage","getItem","data","err","_err$response","message","fetchOrders","React","className","length","map","order","key","_id","status","total","toFixed","Date","date","toLocaleString","items","item","name","price","quantity","onClick","patch","orderId","alert","prevOrders","_objectSpread","_err$response2","_err$response3","console","markAsDelivered","axios","create","baseURL","timeout","defaults","common","interceptors","request","use","config","token","Promise","reject","___CSS_LOADER_EXPORT___","push","module","id"],"sourceRoot":""}